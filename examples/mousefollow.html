<html>
  <head>
    <title>Shine Demo</title>
    <style type="text/css">
      /*
        Custom styles
       */
      #headline {
        position: absolute;
        padding: 0.5em;
        margin: 0;

        text-align: center;
        color: #fcfcfc;
        text-transform: uppercase;
        font-size: 8em;
        font-family: sans-serif;
      }
    </style>
    <script type="text/javascript" src="../dist/shine.min.js"></script>
  </head>
  <body>
    <button data-text="Shine Mouse-Follow Demo">Change Text</button>
    <button data-text="Hello World">Change Text</button>
    <button data-text="Lorem Ipsum">Change Text</button>

    <h1 id="headline">Shine Mouse-Follow Demo</h1>

    <script type="text/javascript">

      // use new shinejs.Shine(...) if Shine is already defined somewhere else
      // var shine = new shinejs.Shine(document.getElementById('headline'));
      var shine = new Shine(document.getElementById('headline'));

      function handleMouseMove(event) {
        shine.light.position.x = event.clientX;
        shine.light.position.y = event.clientY;
        shine.draw();
      }

      function handleViewportUpdates(){
        shine.domElement.style.left = 0.5 * (window.innerWidth - shine.domElement.offsetWidth) + 'px';
        shine.domElement.style.top = 0.5 * (window.innerHeight - shine.domElement.offsetHeight) + 'px';
      }

      function handleTextButtonClick(event) {
        var text = event.target.dataset.text;
        shine.update(text);
        handleViewportUpdates();
      }

      window.addEventListener('mousemove', handleMouseMove, false);
      window.addEventListener('resize', handleViewportUpdates, false);

      var textButtons = document.querySelectorAll('[data-text]');
      for (var i = 0; i < textButtons.length; i++) {
        textButtons[i].addEventListener('click', handleTextButtonClick, false);
      }

      handleViewportUpdates();
    </script>
  </body>
</html>
